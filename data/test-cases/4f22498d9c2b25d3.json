{"uid":"4f22498d9c2b25d3","name":"ФИО — невалидные значения по аналитике → 400","fullName":"tests.api.test_full_create_validation.TestFullCreateValidation#test_full_create_bad_fio","historyId":"8219ced08992d737835bf541e336be96","time":{"start":1763156266389,"stop":1763156266697,"duration":308},"status":"failed","statusMessage":"AssertionError: lastName='ААААААААААААААААААААА' должен быть отклонён\nassert 200 == 400\n +  where 200 = <Response [200]>.status_code","statusTrace":"self = <tests.api.test_full_create_validation.TestFullCreateValidation object at 0x7f52c6b71cd0>\napi = <src.api.safety_pillow_api.SafetyPillowApi object at 0x7f52c6657a10>\nx_guid_and_birth = ('1c97f349-51cd-4436-ae83-bee59925f73a', '2000-11-14T00:00:00.000')\nfield = 'lastName', bad = 'ААААААААААААААААААААА'\n\n    @allure.story(\"ФИО\")\n    @allure.title(\"ФИО — невалидные значения по аналитике → 400\")\n    @pytest.mark.parametrize(\"field,bad\", [\n        (\"firstName\", _invalid_names()[\"short_1_char\"]),\n        (\"lastName\", _invalid_names()[\"non_cyrillic\"]),\n        (\"patronymic\", _invalid_names()[\"leading_dash\"]),\n        (\"firstName\", _invalid_names()[\"trailing_apostrophe\"]),\n        (\"lastName\", _invalid_names()[\"double_space\"]),\n        (\"patronymic\", _invalid_names()[\"double_dash\"]),\n        (\"firstName\", _invalid_names()[\"only_punct\"]),\n        (\"lastName\", _invalid_names()[\"too_long_21\"]),\n    ])\n    def test_full_create_bad_fio(self, api, x_guid_and_birth, field, bad):\n        x_guid, birth = x_guid_and_birth\n        payload = _base_payload(birth)\n        payload[field] = bad\n        attach_pretty_json({field: bad}, \"ФИО (невалидное)\")\n        resp = api.full_create_user(x_guid, payload)\n        attach_pretty_json(resp.json(), \"Ответ full/create по ФИО\")\n>       assert resp.status_code == 400, f\"{field}='{bad}' должен быть отклонён\"\nE       AssertionError: lastName='ААААААААААААААААААААА' должен быть отклонён\nE       assert 200 == 400\nE        +  where 200 = <Response [200]>.status_code\n\ntests/api/test_full_create_validation.py:295: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1763156243607,"stop":1763156243665,"duration":58},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"env","time":{"start":1763156243665,"stop":1763156243665,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http","time":{"start":1763156243665,"stop":1763156243666,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api","time":{"start":1763156261823,"stop":1763156261823,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_seed_for_repro","time":{"start":1763156261823,"stop":1763156261823,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"x_guid_and_birth","time":{"start":1763156261823,"stop":1763156263780,"duration":1957},"status":"passed","steps":[],"attachments":[{"uid":"f449d2eb84266501","name":"X-Guid (setup full/create)","source":"f449d2eb84266501.txt","type":"text/plain","size":36}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: lastName='ААААААААААААААААААААА' должен быть отклонён\nassert 200 == 400\n +  where 200 = <Response [200]>.status_code","statusTrace":"self = <tests.api.test_full_create_validation.TestFullCreateValidation object at 0x7f52c6b71cd0>\napi = <src.api.safety_pillow_api.SafetyPillowApi object at 0x7f52c6657a10>\nx_guid_and_birth = ('1c97f349-51cd-4436-ae83-bee59925f73a', '2000-11-14T00:00:00.000')\nfield = 'lastName', bad = 'ААААААААААААААААААААА'\n\n    @allure.story(\"ФИО\")\n    @allure.title(\"ФИО — невалидные значения по аналитике → 400\")\n    @pytest.mark.parametrize(\"field,bad\", [\n        (\"firstName\", _invalid_names()[\"short_1_char\"]),\n        (\"lastName\", _invalid_names()[\"non_cyrillic\"]),\n        (\"patronymic\", _invalid_names()[\"leading_dash\"]),\n        (\"firstName\", _invalid_names()[\"trailing_apostrophe\"]),\n        (\"lastName\", _invalid_names()[\"double_space\"]),\n        (\"patronymic\", _invalid_names()[\"double_dash\"]),\n        (\"firstName\", _invalid_names()[\"only_punct\"]),\n        (\"lastName\", _invalid_names()[\"too_long_21\"]),\n    ])\n    def test_full_create_bad_fio(self, api, x_guid_and_birth, field, bad):\n        x_guid, birth = x_guid_and_birth\n        payload = _base_payload(birth)\n        payload[field] = bad\n        attach_pretty_json({field: bad}, \"ФИО (невалидное)\")\n        resp = api.full_create_user(x_guid, payload)\n        attach_pretty_json(resp.json(), \"Ответ full/create по ФИО\")\n>       assert resp.status_code == 400, f\"{field}='{bad}' должен быть отклонён\"\nE       AssertionError: lastName='ААААААААААААААААААААА' должен быть отклонён\nE       assert 200 == 400\nE        +  where 200 = <Response [200]>.status_code\n\ntests/api/test_full_create_validation.py:295: AssertionError","steps":[],"attachments":[{"uid":"836709e5f6e7bd22","name":"ФИО (невалидное)","source":"836709e5f6e7bd22.json","type":"application/json","size":62},{"uid":"ad24e7138713576b","name":"policy/user/full/create - Request","source":"ad24e7138713576b.json","type":"application/json","size":817},{"uid":"f8b446e0e54f0c8a","name":"policy/user/full/create - Response","source":"f8b446e0e54f0c8a.json","type":"application/json","size":2025},{"uid":"64e78d31efaf3e1a","name":"policy/user/full/create - Curl","source":"64e78d31efaf3e1a.txt","type":"text/plain","size":1146},{"uid":"d3973541ae1e3870","name":"Ответ full/create по ФИО","source":"d3973541ae1e3870.json","type":"application/json","size":1755}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"epic","value":"Подушка безопасности"},{"name":"story","value":"ФИО"},{"name":"feature","value":"POST /podushka-bezopasnosti/api/v1/policy/user/full/create — валидация"},{"name":"tag","value":"api"},{"name":"parentSuite","value":"tests.api"},{"name":"suite","value":"test_full_create_validation"},{"name":"subSuite","value":"TestFullCreateValidation"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"1965-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api.test_full_create_validation"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"bad","value":"'ААААААААААААААААААААА'"},{"name":"field","value":"'lastName'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"history":{"statistic":{"failed":4,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":4},"items":[{"uid":"2664257db7a1842","status":"failed","statusDetails":"AssertionError: lastName='ААААААААААААААААААААА' должен быть отклонён\nassert 200 == 400\n +  where 200 = <Response [200]>.status_code","time":{"start":1763156131694,"stop":1763156131992,"duration":298}},{"uid":"86d20361f25b0f4f","status":"failed","statusDetails":"AssertionError: lastName='ААААААААААААААААААААА' должен быть отклонён\nassert 200 == 400\n +  where 200 = <Response [200]>.status_code","time":{"start":1763155969382,"stop":1763155969654,"duration":272}},{"uid":"5774370cfdfb2a75","status":"failed","statusDetails":"AssertionError: lastName='ААААААААААААААААААААА' должен быть отклонён\nassert 200 == 400\n +  where 200 = <Response [200]>.status_code","time":{"start":1763155619479,"stop":1763155619842,"duration":363}}]},"tags":["api"]},"source":"4f22498d9c2b25d3.json","parameterValues":["'ААААААААААААААААААААА'","'lastName'"]}