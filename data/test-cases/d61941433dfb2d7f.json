{"uid":"d61941433dfb2d7f","name":"Дата рождения — в будущем → 400","fullName":"tests.api.test_full_create_validation.TestFullCreateValidation#test_full_create_birth_in_future","historyId":"7c1d42d07deb61136f892da6e8e6b7fd","time":{"start":1763155978852,"stop":1763155980169,"duration":1317},"status":"failed","statusMessage":"AssertionError: Дата рождения в будущем должна давать 400\nassert 200 == 400\n +  where 200 = <Response [200]>.status_code","statusTrace":"self = <tests.api.test_full_create_validation.TestFullCreateValidation object at 0x7f31452067e0>\napi = <src.api.safety_pillow_api.SafetyPillowApi object at 0x7f3144c77800>\nx_guid_and_birth = ('637e6820-dc34-4e85-b3d1-68f9f19b61f4', '2002-11-14T00:00:00.000')\n\n    @allure.story(\"Дата рождения\")\n    @allure.title(\"Дата рождения — в будущем → 400\")\n    def test_full_create_birth_in_future(self, api, x_guid_and_birth):\n        x_guid, base_birth = x_guid_and_birth\n        payload = _base_payload(base_birth)\n        future_date = _iso_date(datetime.now().date() + timedelta(days=1))\n        payload[\"birthDate\"] = future_date\n        attach_pretty_json({\"birthDate\": future_date}, \"Дата рождения (будущее)\")\n        resp = api.full_create_user(x_guid, payload)\n        attach_pretty_json(resp.json(), \"Ответ по дате рождения (будущее)\")\n>       assert resp.status_code == 400, \"Дата рождения в будущем должна давать 400\"\nE       AssertionError: Дата рождения в будущем должна давать 400\nE       assert 200 == 400\nE        +  where 200 = <Response [200]>.status_code\n\ntests/api/test_full_create_validation.py:483: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1763155945952,"stop":1763155946007,"duration":55},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http","time":{"start":1763155946007,"stop":1763155946007,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"env","time":{"start":1763155946007,"stop":1763155946007,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api","time":{"start":1763155964387,"stop":1763155964387,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"x_guid_and_birth","time":{"start":1763155964387,"stop":1763155966665,"duration":2278},"status":"passed","steps":[],"attachments":[{"uid":"bcfab34c451cf4d1","name":"X-Guid (setup full/create)","source":"bcfab34c451cf4d1.txt","type":"text/plain","size":36}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"_seed_for_repro","time":{"start":1763155964387,"stop":1763155964387,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Дата рождения в будущем должна давать 400\nassert 200 == 400\n +  where 200 = <Response [200]>.status_code","statusTrace":"self = <tests.api.test_full_create_validation.TestFullCreateValidation object at 0x7f31452067e0>\napi = <src.api.safety_pillow_api.SafetyPillowApi object at 0x7f3144c77800>\nx_guid_and_birth = ('637e6820-dc34-4e85-b3d1-68f9f19b61f4', '2002-11-14T00:00:00.000')\n\n    @allure.story(\"Дата рождения\")\n    @allure.title(\"Дата рождения — в будущем → 400\")\n    def test_full_create_birth_in_future(self, api, x_guid_and_birth):\n        x_guid, base_birth = x_guid_and_birth\n        payload = _base_payload(base_birth)\n        future_date = _iso_date(datetime.now().date() + timedelta(days=1))\n        payload[\"birthDate\"] = future_date\n        attach_pretty_json({\"birthDate\": future_date}, \"Дата рождения (будущее)\")\n        resp = api.full_create_user(x_guid, payload)\n        attach_pretty_json(resp.json(), \"Ответ по дате рождения (будущее)\")\n>       assert resp.status_code == 400, \"Дата рождения в будущем должна давать 400\"\nE       AssertionError: Дата рождения в будущем должна давать 400\nE       assert 200 == 400\nE        +  where 200 = <Response [200]>.status_code\n\ntests/api/test_full_create_validation.py:483: AssertionError","steps":[],"attachments":[{"uid":"8de863ff230ec59e","name":"Дата рождения (будущее)","source":"8de863ff230ec59e.json","type":"application/json","size":44},{"uid":"7428dd2410e55f69","name":"policy/user/full/create - Request","source":"7428dd2410e55f69.json","type":"application/json","size":808},{"uid":"ebaa2cd9e5e52a54","name":"policy/user/full/create - Response","source":"ebaa2cd9e5e52a54.json","type":"application/json","size":2017},{"uid":"32af0a8de08f56de","name":"policy/user/full/create - Curl","source":"32af0a8de08f56de.txt","type":"text/plain","size":1113},{"uid":"8288d99cc93c9347","name":"Ответ по дате рождения (будущее)","source":"8288d99cc93c9347.json","type":"application/json","size":1746}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"feature","value":"POST /podushka-bezopasnosti/api/v1/policy/user/full/create — валидация"},{"name":"story","value":"Дата рождения"},{"name":"epic","value":"Подушка безопасности"},{"name":"tag","value":"api"},{"name":"parentSuite","value":"tests.api"},{"name":"suite","value":"test_full_create_validation"},{"name":"subSuite","value":"TestFullCreateValidation"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"1969-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api.test_full_create_validation"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"history":{"statistic":{"failed":2,"broken":0,"skipped":0,"passed":0,"unknown":0,"total":2},"items":[{"uid":"9ecb7e8f97657d5d","status":"failed","statusDetails":"AssertionError: Дата рождения в будущем должна давать 400\nassert 200 == 400\n +  where 200 = <Response [200]>.status_code","time":{"start":1763155628726,"stop":1763155629010,"duration":284}}]},"tags":["api"]},"source":"d61941433dfb2d7f.json","parameterValues":[]}