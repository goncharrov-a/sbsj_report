{"uid":"194ca9e9219ef147","name":"Младше 18 на 1 день на дату начала полиса — 400","fullName":"tests.api.test_cached_user_validation.TestCachedUserValidation#test_birth_boundary_just_under_18","historyId":"c2378b14f7db9a702bf69979201fc7d0","time":{"start":1763156117466,"stop":1763156119174,"duration":1708},"status":"skipped","statusMessage":"XFAIL backend treats '17y364d on policy start' as valid (should be 400)\n\n_pytest.outcomes.XFailed: backend treats '17y364d on policy start' as valid (should be 400)","statusTrace":"self = <tests.api.test_cached_user_validation.TestCachedUserValidation object at 0x7f9b683a2450>\napi = <src.api.safety_pillow_api.SafetyPillowApi object at 0x7f9b67e94800>\n\n    @allure.story(\"Границы\")\n    @allure.title(\"Младше 18 на 1 день на дату начала полиса — 400\")\n    def test_birth_boundary_just_under_18(self, api: SafetyPillowApi):\n        payload = BASE_VALID.copy()\n        payload[\"birthDate\"] = _birth_younger_than_on_policy_start(18, 1)\n        attach_pretty_json({\"birthDate\": payload[\"birthDate\"]}, \"Параметры\")\n        resp = api.create_cached_user(payload)\n        if resp.status_code in (200, 201):\n>           pytest.xfail(\"backend treats '17y364d on policy start' as valid (should be 400)\")\nE           _pytest.outcomes.XFailed: backend treats '17y364d on policy start' as valid (should be 400)\n\ntests/api/test_cached_user_validation.py:241: XFailed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1763156110886,"stop":1763156110944,"duration":58},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_seed_for_repro","time":{"start":1763156110944,"stop":1763156110944,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"env","time":{"start":1763156110944,"stop":1763156110945,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api","time":{"start":1763156110945,"stop":1763156110945,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http","time":{"start":1763156110945,"stop":1763156110945,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL backend treats '17y364d on policy start' as valid (should be 400)\n\n_pytest.outcomes.XFailed: backend treats '17y364d on policy start' as valid (should be 400)","statusTrace":"self = <tests.api.test_cached_user_validation.TestCachedUserValidation object at 0x7f9b683a2450>\napi = <src.api.safety_pillow_api.SafetyPillowApi object at 0x7f9b67e94800>\n\n    @allure.story(\"Границы\")\n    @allure.title(\"Младше 18 на 1 день на дату начала полиса — 400\")\n    def test_birth_boundary_just_under_18(self, api: SafetyPillowApi):\n        payload = BASE_VALID.copy()\n        payload[\"birthDate\"] = _birth_younger_than_on_policy_start(18, 1)\n        attach_pretty_json({\"birthDate\": payload[\"birthDate\"]}, \"Параметры\")\n        resp = api.create_cached_user(payload)\n        if resp.status_code in (200, 201):\n>           pytest.xfail(\"backend treats '17y364d on policy start' as valid (should be 400)\")\nE           _pytest.outcomes.XFailed: backend treats '17y364d on policy start' as valid (should be 400)\n\ntests/api/test_cached_user_validation.py:241: XFailed","steps":[],"attachments":[{"uid":"cb18c72dfbc558d4","name":"Параметры","source":"cb18c72dfbc558d4.json","type":"application/json","size":44},{"uid":"c8709068120566bf","name":"cached/user/index - Request","source":"c8709068120566bf.json","type":"application/json","size":225},{"uid":"c796b6a8ef0157df","name":"cached/user/index - Response","source":"c796b6a8ef0157df.json","type":"application/json","size":575},{"uid":"a3817481f3007d95","name":"cached/user/index - Curl","source":"a3817481f3007d95.txt","type":"text/plain","size":356}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"epic","value":"Подушка безопасности"},{"name":"story","value":"Границы"},{"name":"feature","value":"POST /podushka-bezopasnosti/api/v1/cached/user/index — валидация"},{"name":"tag","value":"api"},{"name":"parentSuite","value":"tests.api"},{"name":"suite","value":"test_cached_user_validation"},{"name":"subSuite","value":"TestCachedUserValidation"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"1970-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api.test_cached_user_validation"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":3,"passed":0,"unknown":0,"total":3},"items":[{"uid":"e5f6544ac4641aff","status":"skipped","statusDetails":"XFAIL backend treats '17y364d on policy start' as valid (should be 400)\n\n_pytest.outcomes.XFailed: backend treats '17y364d on policy start' as valid (should be 400)","time":{"start":1763155953587,"stop":1763155955650,"duration":2063}},{"uid":"d40be3f78fc0a2da","status":"skipped","statusDetails":"XFAIL backend treats '17y364d on policy start' as valid (should be 400)\n\n_pytest.outcomes.XFailed: backend treats '17y364d on policy start' as valid (should be 400)","time":{"start":1763155603176,"stop":1763155605028,"duration":1852}}]},"tags":["api"]},"source":"194ca9e9219ef147.json","parameterValues":[]}