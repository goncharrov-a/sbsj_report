{"uid":"6673f45c5b6d320e","name":"Возраст на конец срока > 70 — 400 (случай)","fullName":"tests.api.test_cached_user_validation.TestCachedUserValidation#test_birth_term_over_70","historyId":"90b227ebd60e4e3628c0d889d7cb43c9","time":{"start":1763155532881,"stop":1763155533212,"duration":331},"status":"skipped","statusMessage":"XFAIL backend returns 500 instead of 400 when birth+term > 70 years\n\n_pytest.outcomes.XFailed: backend returns 500 instead of 400 when birth+term > 70 years","statusTrace":"self = <tests.api.test_cached_user_validation.TestCachedUserValidation object at 0x7fe1a01359a0>\napi = <src.api.safety_pillow_api.SafetyPillowApi object at 0x7fe19fbb1a90>\n\n    @allure.story(\"Негатив\")\n    @allure.title(\"Возраст на конец срока > 70 — 400 (случай)\")\n    def test_birth_term_over_70(self, api: SafetyPillowApi):\n        birth, term = _birth_and_term_over_70()\n        payload = BASE_VALID.copy()\n        payload[\"birthDate\"] = birth\n        payload[\"term\"] = term\n        attach_pretty_json({\"birthDate\": birth, \"term\": term}, \"Параметры\")\n        resp = api.create_cached_user(payload)\n        if resp.status_code == 500:\n>           pytest.xfail(\"backend returns 500 instead of 400 when birth+term > 70 years\")\nE           _pytest.outcomes.XFailed: backend returns 500 instead of 400 when birth+term > 70 years\n\ntests/api/test_cached_user_validation.py:333: XFailed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1763155520892,"stop":1763155520950,"duration":58},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_seed_for_repro","time":{"start":1763155520950,"stop":1763155520950,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"env","time":{"start":1763155520950,"stop":1763155520951,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api","time":{"start":1763155520951,"stop":1763155520951,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http","time":{"start":1763155520951,"stop":1763155520951,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL backend returns 500 instead of 400 when birth+term > 70 years\n\n_pytest.outcomes.XFailed: backend returns 500 instead of 400 when birth+term > 70 years","statusTrace":"self = <tests.api.test_cached_user_validation.TestCachedUserValidation object at 0x7fe1a01359a0>\napi = <src.api.safety_pillow_api.SafetyPillowApi object at 0x7fe19fbb1a90>\n\n    @allure.story(\"Негатив\")\n    @allure.title(\"Возраст на конец срока > 70 — 400 (случай)\")\n    def test_birth_term_over_70(self, api: SafetyPillowApi):\n        birth, term = _birth_and_term_over_70()\n        payload = BASE_VALID.copy()\n        payload[\"birthDate\"] = birth\n        payload[\"term\"] = term\n        attach_pretty_json({\"birthDate\": birth, \"term\": term}, \"Параметры\")\n        resp = api.create_cached_user(payload)\n        if resp.status_code == 500:\n>           pytest.xfail(\"backend returns 500 instead of 400 when birth+term > 70 years\")\nE           _pytest.outcomes.XFailed: backend returns 500 instead of 400 when birth+term > 70 years\n\ntests/api/test_cached_user_validation.py:333: XFailed","steps":[],"attachments":[{"uid":"efaf81706d386fa","name":"Параметры","source":"efaf81706d386fa.json","type":"application/json","size":58},{"uid":"958e80b722c79c32","name":"cached/user/index - Request","source":"958e80b722c79c32.json","type":"application/json","size":225},{"uid":"c16d67591dffd0da","name":"cached/user/index - Response","source":"c16d67591dffd0da.json","type":"application/json","size":727},{"uid":"2c1a5fbf5d06284d","name":"cached/user/index - Curl","source":"2c1a5fbf5d06284d.txt","type":"text/plain","size":356}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"epic","value":"Подушка безопасности"},{"name":"story","value":"Негатив"},{"name":"feature","value":"POST /podushka-bezopasnosti/api/v1/cached/user/index — валидация"},{"name":"tag","value":"api"},{"name":"parentSuite","value":"tests.api"},{"name":"suite","value":"test_cached_user_validation"},{"name":"subSuite","value":"TestCachedUserValidation"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"1961-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api.test_cached_user_validation"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"tags":["api"]},"source":"6673f45c5b6d320e.json","parameterValues":[]}