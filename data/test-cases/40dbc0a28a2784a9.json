{"uid":"40dbc0a28a2784a9","name":"Периодичность — null → xfail (сейчас 500)","fullName":"tests.api.test_cached_user_validation.TestCachedUserValidation#test_payment_periodicity_null","historyId":"2a5e1de48cb107f3c23cb4322edbdd8d","time":{"start":1763155961260,"stop":1763155961652,"duration":392},"status":"skipped","statusMessage":"XFAIL backend returns 500 instead of 400 when paymentPeriodicity is null\n\n_pytest.outcomes.XFailed: backend returns 500 instead of 400 when paymentPeriodicity is null","statusTrace":"self = <tests.api.test_cached_user_validation.TestCachedUserValidation object at 0x7f3145201130>\napi = <src.api.safety_pillow_api.SafetyPillowApi object at 0x7f3144c5d220>\n\n    @allure.story(\"Негатив\")\n    @allure.title(\"Периодичность — null → xfail (сейчас 500)\")\n    def test_payment_periodicity_null(self, api: SafetyPillowApi):\n        payload = BASE_VALID.copy()\n        payload[\"paymentPeriodicity\"] = None  # -> null\n        attach_pretty_json({\"paymentPeriodicity\": None}, \"Параметры\")\n        resp = api.create_cached_user(payload)\n        if resp.status_code == 500:\n>           pytest.xfail(\"backend returns 500 instead of 400 when paymentPeriodicity is null\")\nE           _pytest.outcomes.XFailed: backend returns 500 instead of 400 when paymentPeriodicity is null\n\ntests/api/test_cached_user_validation.py:391: XFailed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1763155945952,"stop":1763155946007,"duration":55},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http","time":{"start":1763155946007,"stop":1763155946007,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"_seed_for_repro","time":{"start":1763155946007,"stop":1763155946007,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"env","time":{"start":1763155946007,"stop":1763155946007,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"api","time":{"start":1763155946008,"stop":1763155946008,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL backend returns 500 instead of 400 when paymentPeriodicity is null\n\n_pytest.outcomes.XFailed: backend returns 500 instead of 400 when paymentPeriodicity is null","statusTrace":"self = <tests.api.test_cached_user_validation.TestCachedUserValidation object at 0x7f3145201130>\napi = <src.api.safety_pillow_api.SafetyPillowApi object at 0x7f3144c5d220>\n\n    @allure.story(\"Негатив\")\n    @allure.title(\"Периодичность — null → xfail (сейчас 500)\")\n    def test_payment_periodicity_null(self, api: SafetyPillowApi):\n        payload = BASE_VALID.copy()\n        payload[\"paymentPeriodicity\"] = None  # -> null\n        attach_pretty_json({\"paymentPeriodicity\": None}, \"Параметры\")\n        resp = api.create_cached_user(payload)\n        if resp.status_code == 500:\n>           pytest.xfail(\"backend returns 500 instead of 400 when paymentPeriodicity is null\")\nE           _pytest.outcomes.XFailed: backend returns 500 instead of 400 when paymentPeriodicity is null\n\ntests/api/test_cached_user_validation.py:391: XFailed","steps":[],"attachments":[{"uid":"1043aa81f89d96c","name":"Параметры","source":"1043aa81f89d96c.json","type":"application/json","size":32},{"uid":"56e3864e02d2f7d6","name":"cached/user/index - Request","source":"56e3864e02d2f7d6.json","type":"application/json","size":220},{"uid":"ae7e87b7b9bae23","name":"cached/user/index - Response","source":"ae7e87b7b9bae23.json","type":"application/json","size":423},{"uid":"76f9821984718d3f","name":"cached/user/index - Curl","source":"76f9821984718d3f.txt","type":"text/plain","size":351}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":4,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"story","value":"Негатив"},{"name":"epic","value":"Подушка безопасности"},{"name":"feature","value":"POST /podushka-bezopasnosti/api/v1/cached/user/index — валидация"},{"name":"tag","value":"api"},{"name":"parentSuite","value":"tests.api"},{"name":"suite","value":"test_cached_user_validation"},{"name":"subSuite","value":"TestCachedUserValidation"},{"name":"host","value":"runnervmg1sw1"},{"name":"thread","value":"1969-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.api.test_cached_user_validation"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":2,"passed":0,"unknown":0,"total":2},"items":[{"uid":"7d0ffae4cf406220","status":"skipped","statusDetails":"XFAIL backend returns 500 instead of 400 when paymentPeriodicity is null\n\n_pytest.outcomes.XFailed: backend returns 500 instead of 400 when paymentPeriodicity is null","time":{"start":1763155612073,"stop":1763155612285,"duration":212}}]},"tags":["api"]},"source":"40dbc0a28a2784a9.json","parameterValues":[]}